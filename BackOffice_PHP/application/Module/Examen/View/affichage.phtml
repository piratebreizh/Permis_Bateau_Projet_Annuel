<?php
/** @var \APP\Entity\Examen $examen */
$examen = $this->examen;
/** @var \APP\Entity\Question[] $questions */
$questions = $this->questions;
?>
<h2>
    <?php echo $examen->getNom(); ?>
    <!-- Publication -->
    <?php if ($examen->isPublished()) { ?>
        <span class="glyphicon glyphicon-eye-open" aria-hidden="true"
              data-toggle="tooltip" data-placement="right" title="Publié"></span>
    <?php } else { ?>
        <span class="glyphicon glyphicon-eye-close publication" aria-hidden="true"
              data-toggle="tooltip" data-placement="right" title="Cliquer pour publier"
              data-examen="<?php echo $examen->getIdExamen(); ?>"></span>
    <?php } ?>

    <!-- Suppression -->
    <span class="glyphicon glyphicon-remove delete" aria-hidden="true"
          data-toggle="tooltip" data-placement="right" title="Cliquer pour supprimer"
          data-examen="<?php echo $examen->getIdExamen(); ?>"></span>
</h2>

<table class="table table-striped table-hover" style="width: 80%">
    <col width="5%">
    <col width="95%">

    <thead>
    <tr>
        <th>Numéro</th>
        <th>Enoncé</th>
    </tr>
    </thead>
    <tbody>
    <?php foreach ($this->questions as $question) {
        /** @var \APP\Entity\Question $question */ ?>
        <tr onclick="window.location='/question/afficher?id=<?php echo $question->getId(); ?>'" style="cursor: pointer">
            <td><?php echo $question->getNumeroQuestion(); ?></td>
            <td><?php echo $question->getEnonceQuestion(); ?></td>
        </tr>
    <?php } ?>
    </tbody>
</table>

<a class="btn btn-primary" href="/question/creer?id_examen=<?php echo $examen->getIdExamen(); ?>">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
    Créer une nouvelle question
</a>